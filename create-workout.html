<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script defer src="https://unpkg.com/alpinejs@3.10.3/dist/cdn.min.js"></script>
    <style>
      body {margin-top: 5rem; background: #fafafa;}
      .site-header .navbar-nav .nav-link {color: #cbd5db;}
      .site-header .navbar-nav .nav-link:hover {color: #ffffff;}
      .site-header .navbar-nav .nav-link.active {font-weight: 500;}
      .content-section {background: #ffffff; padding: 10px 20px; border: 1px solid #dddddd; border-radius: 3px; margin-bottom: 20px;}
      .article-title {color: #444444;}
      .article-content {white-space: pre-line;}
      .article-img {height: 65px; width: 65px; margin-right: 16px;}
      .article-metadata {padding-bottom: 1px; margin-bottom: 4px; border-bottom: 1px solid #e3e3e3}
      .article-metadata a:hover {color: #333; text-decoration: none;}
      .article-svg {width: 25px; height: 25px; vertical-align: middle;}
      .account-img {height: 125px; width: 125px; margin-right: 20px; margin-bottom: 16px;}
      .account-heading {font-size: 2.5rem;}
      .bg-steel {background-color: #5f788a;}
    </style>
    
    <title>Fit To Go</title>
    
  </head>
  <body>
    <header class="site-header">
      <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand mr-4" href="/">Fit To Go</a>
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarToggle"
            aria-controls="navbarToggle"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarToggle">
            <div class="navbar-nav mr-auto">
              <a class="nav-item nav-link" href="/">Home</a>
              <a class="nav-item nav-link" href="/about/">About</a>
            </div>
            
            <div class="navbar-nav">
              
              <div class="navbar-nav">
                <a class="nav-item nav-link" href="profile.html">Profile</a>
                
              </div>
                
                <form method="POST" action="/logout/" class="d-inline">
                  <input type="hidden" name="csrfmiddlewaretoken" value="Gv2t3y1Dq2KHR4ohGlIKJ077GLyNpoqVhMCzQno8UwiOmCe5B1QGWEgmIVC7DXsv">
                  <button type="submit" class="btn btn-link nav-item nav-link" 
                          style="background: none; border: none; margin: 0; padding: 0.5rem 1rem; color: #cbd5db;">
                    Logout
                  </button>
                </form>
              
            </div>
          </div>
        </div>
      </nav>
    </header>
    <main role="main" class="container">
      <div class="row">
        <div class="col-md-8">
          
          
<div class="content-section" x-data="workoutBuilder()">
  <form method="POST" id="workoutForm" @submit="updateDescription()">
    <input type="hidden" name="csrfmiddlewaretoken" value="Gv2t3y1Dq2KHR4ohGlIKJ077GLyNpoqVhMCzQno8UwiOmCe5B1QGWEgmIVC7DXsv">
    <fieldset class="form-group">
      <legend class="border-bottom mb-4">Create New Workout</legend>
              
      <div class="row">
        <div class="col-md-12">
          


    
    <div id="div_id_title" class="form-group">
        
            
        <label for="id_title" class=" requiredField">
                Title<span class="asteriskField">*</span>
            </label>
        

        

        

        
            
                <div>
                    
                        
                            <input type="text" name="title" maxlength="100" class="textinput textInput form-control" required id="id_title">
                        
                    
                    


    




    



                </div>
            
        
    </div>
    


        </div>
      </div>
              
      <div class="row">
        <div class="col-md-6">
          


    
    <div id="div_id_difficulty" class="form-group">
        
            
        <label for="id_difficulty" class=" requiredField">
                Difficulty<span class="asteriskField">*</span>
            </label>
        

        

        

        
            
                <div>
                    
                        
                            <select name="difficulty" class="select form-control" id="id_difficulty">
  <option value="Beginner">Beginner</option>

  <option value="Intermediate" selected>Intermediate</option>

  <option value="Advanced">Advanced</option>

</select>
                        
                    
                    


    




    



                </div>
            
        
    </div>
    


        </div>
        <div class="col-md-6">
          


    
    <div id="div_id_muscle_group" class="form-group">
        
            
        <label for="id_muscle_group" class=" requiredField">
                Muscle group<span class="asteriskField">*</span>
            </label>
        

        

        

        
            
                <div>
                    
                        
                            <select name="muscle_group" class="select form-control" id="id_muscle_group">
  <option value="Full Body" selected>Full Body</option>

  <option value="Upper Body">Upper Body</option>

  <option value="Lower Body">Lower Body</option>

  <option value="Core">Core</option>

  <option value="Arms">Arms</option>

  <option value="Chest">Chest</option>

  <option value="Back">Back</option>

  <option value="Legs">Legs</option>

  <option value="Shoulders">Shoulders</option>

  <option value="Cardio">Cardio</option>

</select>
                        
                    
                    


    




    



                </div>
            
        
    </div>
    


        </div>
      </div>
      
      <div class="card mb-4">
        <div class="card-header">
          <h5 class="mb-0">Exercise Builder</h5>
        </div>
        <div class="card-body">
          <div id="exercisesContainer">
            <template x-for="(exercise, index) in exercises" :key="index">
              <div class="exercise-entry mb-3">
                <div class="row mb-2">
                  <div class="col-10">
                    <input type="text" class="form-control exercise-name" x-model="exercise.name" placeholder="Exercise Name" @input="updateDescription()">
                  </div>
                  <div class="col-2 pl-0">
                    <button type="button" class="btn btn-danger btn-block remove-exercise" @click="removeExercise(index)">
                      Ã—
                    </button>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4 mb-2">
                    <input type="text" class="form-control exercise-sets" x-model="exercise.sets" placeholder="Sets" @input="updateDescription()">
                  </div>
                  <div class="col-md-4 mb-2">
                    <input type="text" class="form-control exercise-reps" x-model="exercise.reps" placeholder="Reps" @input="updateDescription()">
                  </div>
                  <div class="col-md-4 mb-2">
                    <input type="text" class="form-control exercise-rest" x-model="exercise.rest" placeholder="Rest (sec)" @input="updateDescription()">
                  </div>
                </div>
              </div>
            </template>
          </div>
          
          <button type="button" class="btn btn-success mt-3" @click="addExercise()">
            <i class="fas fa-plus"></i> Add Exercise
          </button>
        </div>
      </div>
      
      <div class="alert alert-info">
        <i class="fas fa-info-circle"></i> Provide a detailed description of your workout. Consider including:
        <ul>
          <li>Number of sets and reps</li>
          <li>Rest periods</li>
          <li>Equipment needed</li>
          <li>Target muscle groups</li>
          <li>Proper form instructions</li>
          <li>Any additional notes or advice</li>

        </ul>
      </div>
              
      


    
    <div id="div_id_description" class="form-group">
        
            
        <label for="id_description" class=" requiredField">
                Description<span class="asteriskField">*</span>
            </label>
        

        

        

        
            
                <div>
                    
                        
                            <textarea name="description" cols="40" rows="5" class="textarea form-control" required aria-describedby="id_description_helptext" id="id_description">
</textarea>
                        
                    
                    


    




    
    
        <small id="hint_id_description" class="form-text text-muted">Describe the workout in detail including sets, reps, and form instructions.</small>
    




                </div>
            
        
    </div>
    


    </fieldset>
          
    <div class="form-group">
      <button class="btn btn-primary" type="submit" :disabled="isSubmitting">
        <span x-show="isSubmitting" class="spinner-border spinner-border-sm mr-2"></span>
        <span x-text="isSubmitting ? 'Creating...' : 'Create Workout'"></span>
      </button>
      <a href="/" class="btn btn-outline-secondary">Cancel</a>
    </div>
  </form>
</div>

<script>
  function workoutBuilder() {
    return {
      exercises: [
        { name: '', sets: '', reps: '', rest: '' }
      ],
      isSubmitting: false,
      
      addExercise() {
        this.exercises.push({ name: '', sets: '', reps: '', rest: '' });
        this.$nextTick(() => {
          this.updateDescription();
        });
      },
      
      removeExercise(index) {
        if (this.exercises.length > 1) {
          this.exercises.splice(index, 1);
          this.updateDescription();
        } else {
          this.exercises[0] = { name: '', sets: '', reps: '', rest: '' };
          this.updateDescription();
        }
      },
      
      updateDescription() {
        const descriptionField = document.getElementById('id_description');
        let exerciseListText = '';
        
        this.exercises.forEach((exercise, index) => {
          if (exercise.name.trim()) {
            exerciseListText += `${index + 1}. ${exercise.name}`;
            
            const details = [];
            if (exercise.sets) details.push(`${exercise.sets} sets`);
            if (exercise.reps) details.push(`${exercise.reps} reps`);
            if (exercise.rest) details.push(`${exercise.rest}s rest`);
            
            if (details.length > 0) {
              exerciseListText += ` - ${details.join(', ')}`;
            }
            
            exerciseListText += '\n';
          }
        });
        
        let currentText = descriptionField.value || '';
        
        const exerciseListRegex = /EXERCISES:[\s\S]*?(?=(\n\n|$))/;
        const exerciseListMatch = currentText.match(exerciseListRegex);
        
        if (exerciseListText.trim()) {
          exerciseListText = "EXERCISES:\n" + exerciseListText;
          
          if (exerciseListMatch) {
            descriptionField.value = currentText.replace(exerciseListRegex, exerciseListText);
          } else {
            if (currentText.trim()) {
              descriptionField.value = currentText.trim() + "\n\n" + exerciseListText;
            } else {
              descriptionField.value = exerciseListText;
            }
          }
        }
      }
    }
  }
</script>

        </div>
        <div class="col-md-4">
          <div class="content-section">
            <h3>Workout Options</h3>
            <p class='text-muted'>
              <ul class="list-group">
                <ul class="list-group">
                  <li class="list-group-item list-group-item-light"><a href="index.html">Latest Workouts</a></li>
                  <li class="list-group-item list-group-item-light"><a href="create-workout.html">New Workout</a></li>
                  <li class="list-group-item list-group-item-light"><a href="about.html">About</a></li>
                </ul>
                
            </p>
          </div>
        </div>
      </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
  </body>
</html>